# 数据库种子数据使用说明

## 📋 概述

数据库种子数据包含4个默认用户，覆盖系统的所有角色权限级别。

## 🚀 使用方法

### 1. 运行种子脚本

```bash
# 确保数据库连接正常
npx prisma db push

# 执行种子数据创建
npx prisma db seed
```

### 2. 验证种子脚本（无需数据库连接）

```bash
# 验证种子脚本逻辑正确性
npx tsx scripts/verify-seed.ts
```

## 👤 默认用户账号

| 角色 | 邮箱 | 密码 | 权限描述 |
|------|------|------|----------|
| 超级管理员 | admin@example.com | admin123456 | 所有权限，包括用户管理、系统设置 |
| 系统管理员 | manager@example.com | manager123456 | 用户管理权限，部分系统设置查看 |
| 普通成员 | member@example.com | member123456 | 基本仪表板访问权限 |
| 查看者 | viewer@example.com | viewer123456 | 只读访问权限 |

## 🔐 角色权限矩阵

| 权限 | super_admin | admin | member | viewer |
|------|-------------|-------|--------|--------|
| 用户查看 | ✅ | ✅ | ❌ | ❌ |
| 用户创建 | ✅ | ✅ | ❌ | ❌ |
| 用户编辑 | ✅ | ✅ | ❌ | ❌ |
| 用户删除 | ✅ | ❌ | ❌ | ❌ |
| 设置查看 | ✅ | ✅ | ❌ | ❌ |
| 设置编辑 | ✅ | ❌ | ❌ | ❌ |
| 仪表板 | ✅ | ✅ | ✅ | ✅ |

## 🔒 密码加密

- 使用 PBKDF2 + SHA512 算法
- 32字节随机盐值
- 10000次迭代
- 格式: `hash:salt`

## ⚠️ 安全提醒

1. **生产环境必须修改默认密码**
2. **删除或禁用不需要的测试账号**
3. **定期更新管理员密码**
4. **启用二次认证（如果支持）**

## 🛠️ 自定义种子数据

编辑 `prisma/seed.ts` 文件来自定义：

- 用户邮箱和姓名
- 默认密码
- 用户角色分配
- 其他初始数据

## 🧪 测试验证

种子数据创建后，可以通过以下方式验证：

1. 登录系统测试各角色权限
2. 检查API端点的权限控制
3. 验证用户管理功能
4. 测试设置页面访问权限